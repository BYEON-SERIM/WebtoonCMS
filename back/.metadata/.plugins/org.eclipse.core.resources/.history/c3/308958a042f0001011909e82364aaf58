package com.example.cms.controller;

import com.example.cms.domain.CommonCode;
import com.example.cms.domain.DailyStat;
import com.example.cms.domain.Webtoon;
import com.example.cms.repository.CommonCodeRepository;
import com.example.cms.repository.DailyStatRepository;
import com.example.cms.repository.WebtoonLogRepository;
import com.example.cms.repository.WebtoonRepository;
import com.example.cms.service.GeminiService;

import jakarta.transaction.Transactional;
import lombok.RequiredArgsConstructor;
import org.springframework.web.bind.annotation.*;

import java.util.List;
import java.util.Map;
import java.util.stream.Collectors;

@RestController
@RequestMapping("/api/common")
@RequiredArgsConstructor
public class CommonCodeController {
    
    private final CommonCodeRepository repository;

    @GetMapping("/codes")
    public List<CommonCode> getCodes(@RequestParam String group) {
        // useYn이 'Y'인 것만 필터링해서 전달
        return repository.findByGroupCodeAndUseYn(group, "Y");
    }
}